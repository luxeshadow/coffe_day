import{r as d,c as m,a as e,d as f,y as E,F,l as T,z as s,E as C,t as o,G as b,H as D,Q as j,n as x,o as g}from"#entry";const I={class:"roles-page"},L={class:"table-container"},U={class:"roles-table"},B={class:"actions"},q=["onClick"],z=["onClick"],R={key:0,class:"empty-state"},$={class:"modal-header"},H={class:"form-group"},O={class:"form-group"},Q={class:"form-group"},J={class:"form-group"},K={class:"status-toggle"},P={class:"status-label"},W={class:"modal-actions"},X=["disabled"],Y={class:"modal-content"},_={__name:"gestion-grade",setup(Z){const v=d(!1),k=d(!1),u=d(!1),r=d(null),a=d({id:null,name:"",description:"",level:"",status:"active"}),i=d([{id:1,name:"Directeur",description:"Responsable principal",level:1,createdAt:"2024-01-15",status:"active"},{id:2,name:"Manager",description:"Gestion d’équipe",level:2,createdAt:"2024-01-20",status:"active"},{id:3,name:"Employé",description:"Membre du personnel",level:3,createdAt:"2024-02-01",status:"inactive"}]),A=()=>{y(),u.value=!1,v.value=!0},M=n=>{a.value={...n},u.value=!0,v.value=!0},y=()=>{a.value={id:null,name:"",description:"",level:"",status:"active"}},p=()=>{v.value=!1,setTimeout(y,300)},w=()=>{if(u.value){const n=i.value.findIndex(t=>t.id===a.value.id);n!==-1&&(i.value[n]={...a.value})}else{const n={id:i.value.length?Math.max(...i.value.map(t=>t.id))+1:1,...a.value,createdAt:new Date().toISOString().split("T")[0]};i.value.push(n)}p()},G=n=>{r.value=n,k.value=!0},c=()=>{k.value=!1,r.value=null},N=()=>{r.value&&(i.value=i.value.filter(n=>n.id!==r.value.id),c())},S=n=>new Date(n).toLocaleDateString("fr-FR");return(n,t)=>(g(),m("div",I,[e("div",{class:"page-header"},[t[7]||(t[7]=e("h2",null,"Gestion des Grades",-1)),e("button",{class:"btn-add",onClick:A},[...t[6]||(t[6]=[e("i",{class:"fas fa-plus"},null,-1),f(" Ajouter un grade ",-1)])])]),e("div",L,[e("table",U,[t[10]||(t[10]=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Nom du grade"),e("th",null,"Description"),e("th",null,"Niveau"),e("th",null,"Date de création"),e("th",null,"Statut"),e("th",null,"Actions")])],-1)),e("tbody",null,[(g(!0),m(F,null,T(s(i),l=>(g(),m("tr",{key:l.id},[e("td",null,o(l.id),1),e("td",null,o(l.name),1),e("td",null,o(l.description),1),e("td",null,o(l.level),1),e("td",null,o(S(l.createdAt)),1),e("td",null,[e("span",{class:x(["status-badge",l.status])},o(l.status==="active"?"Actif":"Inactif"),3)]),e("td",B,[e("button",{class:"btn-edit",onClick:V=>M(l),title:"Modifier"},[...t[8]||(t[8]=[e("i",{class:"fas fa-edit"},null,-1)])],8,q),e("button",{class:"btn-delete",onClick:V=>G(l),title:"Supprimer"},[...t[9]||(t[9]=[e("i",{class:"fas fa-trash"},null,-1)])],8,z)])]))),128))])]),s(i).length===0?(g(),m("div",R,[t[12]||(t[12]=e("i",{class:"fas fa-graduation-cap"},null,-1)),t[13]||(t[13]=e("p",null,"Aucun grade n’a encore été créé",-1)),e("button",{class:"btn-add",onClick:A},[...t[11]||(t[11]=[e("i",{class:"fas fa-plus"},null,-1),f(" Ajouter votre premier grade ",-1)])])])):E("",!0)]),e("div",{class:x(["modal-overlay",{active:s(v)}]),onClick:p},[e("div",{class:"modal",onClick:t[4]||(t[4]=C(()=>{},["stop"]))},[e("div",$,[e("h3",null,o(s(u)?"Modifier le grade":"Ajouter un nouveau grade"),1),e("button",{class:"btn-close",onClick:p},[...t[14]||(t[14]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("form",{onSubmit:C(w,["prevent"]),class:"modal-form"},[e("div",H,[t[15]||(t[15]=e("label",{for:"gradeName"},"Nom du grade *",-1)),b(e("input",{id:"gradeName","onUpdate:modelValue":t[0]||(t[0]=l=>s(a).name=l),type:"text",required:"",placeholder:"Ex: Directeur"},null,512),[[D,s(a).name]])]),e("div",O,[t[16]||(t[16]=e("label",{for:"gradeDescription"},"Description",-1)),b(e("textarea",{id:"gradeDescription","onUpdate:modelValue":t[1]||(t[1]=l=>s(a).description=l),placeholder:"Description du grade...",rows:"3"},null,512),[[D,s(a).description]])]),e("div",Q,[t[17]||(t[17]=e("label",{for:"gradeLevel"},"Niveau",-1)),b(e("input",{id:"gradeLevel","onUpdate:modelValue":t[2]||(t[2]=l=>s(a).level=l),type:"number",placeholder:"Ex: 1, 2, 3..."},null,512),[[D,s(a).level]])]),e("div",J,[e("label",K,[b(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=l=>s(a).status=l),"true-value":"active","false-value":"inactive"},null,512),[[j,s(a).status]]),t[18]||(t[18]=e("span",{class:"slider"},null,-1)),e("span",P,o(s(a).status==="active"?"Grade actif":"Grade inactif"),1)])]),e("div",W,[e("button",{type:"button",class:"btn-cancel",onClick:p}," Annuler "),e("button",{type:"submit",class:"btn-submit",disabled:!s(a).name},o(s(u)?"Modifier":"Ajouter"),9,X)])],32)])],2),e("div",{class:x(["modal-overlay",{active:s(k)}]),onClick:c},[e("div",{class:"modal delete-modal",onClick:t[5]||(t[5]=C(()=>{},["stop"]))},[e("div",{class:"modal-header"},[t[20]||(t[20]=e("h3",null,"Confirmer la suppression",-1)),e("button",{class:"btn-close",onClick:c},[...t[19]||(t[19]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("div",Y,[t[23]||(t[23]=e("i",{class:"fas fa-exclamation-triangle warning-icon"},null,-1)),e("p",null,[t[21]||(t[21]=f("Supprimer le grade ",-1)),e("strong",null,'"'+o(s(r)?.name)+'"',1),t[22]||(t[22]=f(" ?",-1))]),t[24]||(t[24]=e("p",{class:"warning-text"},"Cette action est irréversible.",-1))]),e("div",{class:"modal-actions"},[e("button",{class:"btn-cancel",onClick:c},"Annuler"),e("button",{class:"btn-delete-confirm",onClick:N},"Supprimer")])])],2)]))}};export{_ as default};
